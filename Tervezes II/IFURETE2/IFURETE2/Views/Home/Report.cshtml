
@{
    ViewData["Title"] = "Report";
}
<h2>Report</h2>
Beszállító:
<select name="roles" id="selectPurveyor"></select>
<br />

<form id="typeForm">
    <input type="radio" name="type" id="monthly"> Havi riport<br>
    <input type="radio" name="type" id="daily"> Napi riport<br>
</form>
<br /><br />
<p id="placeForDayCalendar" />
<p id="placeForFromCalendar" />
<p id="placeForToCalendar" />
<br />

<table id="reportTable"></table>

<script>
    var selectPurveyor = document.getElementById("selectPurveyor");
    var purveyors = ["Sefag Zrt.", "Jankovicz Kft.", "Agroeuropa d.o.o", "Agrogreen Kft.", "Atiméd Kft."];
    for (var i = 0; i < purveyors.length; i++)
    {
        var el = document.createElement("option");
        el.textContent = purveyors[i];
        el.value = purveyors[i];
        selectPurveyor.appendChild(el);
    }


    function generateReportTable()
    {
        var thOfHourlyArray = ["Anyagnév", "Tervezett (t)", "Valós (t)", "Különbség (t)", "%"];

        var tbl = document.getElementById("reportTable");
        var tblBody = document.createElement("tbody");

        var materialArray = new Array;
        materialArray = ["Keményfa", "Szalma", "Erdei apríték"];

        var plannedArray = new Array;
        plannedArray = [200, 500, 300];

        var actulArray = new Array;
        actulArray = [200, 450, 320];

        var differenceArray = new Array;
        differenceArray = [0, 50, 20];

        var percentageArray = new Array;
        for (var i = 0; i < plannedArray.length; i++)
        {
            percentageArray[i] = Math.floor((actulArray[i] / plannedArray[i]) * 100);
        }

        var row = document.createElement("tr");
        var cellText
        for (var i = 0; i < thOfHourlyArray.length; i++)
        {
            var cell = document.createElement("th");
            cellText = document.createTextNode(thOfHourlyArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
        }
        tblBody.appendChild(row);

        for (var i = 0; i < materialArray.length; i++)
        {
            var row = document.createElement("tr");
            var cell = document.createElement("td");

            cellText = document.createTextNode(materialArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
            cell = document.createElement("td");

            //ID
            cellText = document.createTextNode(plannedArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
            cell = document.createElement("td");

            cellText = document.createTextNode(actulArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
            cell = document.createElement("td");

            //SUPPLIER
            cellText = document.createTextNode(differenceArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
            cell = document.createElement("td");

            //TIME
            cellText = document.createTextNode(percentageArray[i]);
            cell.appendChild(cellText);
            row.appendChild(cell);
            cell = document.createElement("td");

            row.appendChild(cell);
            tblBody.appendChild(row);
        }

        tblBody.appendChild(row);

        while (tbl.firstChild)
        {
            tbl.removeChild(tbl.firstChild);
        }
        tbl.appendChild(tblBody);
        tbl.setAttribute("border", "2");
    }

    document.getElementById("typeForm").addEventListener("change", typeForm);

    function typeForm(event)
    {
        var type = event.target.id;
        if (type == "monthly")
        {
            var placeForDayCalendar = document.getElementById("placeForDayCalendar");
            placeForDayCalendar.removeChild(placeForDayCalendar.firstChild);

            var fromDate = document.createElement("INPUT");
            fromDate.setAttribute("type", "month");
            var placeForFromCalendar = document.getElementById("placeForFromCalendar");

            placeForFromCalendar.appendChild(fromDate);

            while (placeForFromCalendar.firstChild)
            {
                placeForFromCalendar.removeChild(placeForFromCalendar.firstChild);
            }

            placeForFromCalendar.appendChild(fromDate);

            var toDate = document.createElement("INPUT");
            toDate.setAttribute("type", "month");
            var placeForToCalendar = document.getElementById("placeForToCalendar");

            placeForToCalendar.appendChild(toDate);

            while (placeForToCalendar.firstChild)
            {
                placeForToCalendar.removeChild(placeForToCalendar.firstChild);
            }

            placeForToCalendar.appendChild(toDate);


        }
        else
        {
            var placeForFromCalendar = document.getElementById("placeForFromCalendar");
            placeForFromCalendar.removeChild(placeForFromCalendar.firstChild);

            var placeForToCalendar = document.getElementById("placeForToCalendar");
            placeForToCalendar.removeChild(placeForToCalendar.firstChild);

            var date = document.createElement("INPUT");
            date.setAttribute("type", "date");
            var placeForDayCalendar = document.getElementById("placeForDayCalendar");

            placeForDayCalendar.appendChild(date);

            while (placeForDayCalendar.firstChild)
            {
                placeForDayCalendar.removeChild(placeForDayCalendar.firstChild);
            }

            placeForDayCalendar.appendChild(date);

        }

        generateReportTable();

    }


    

</script>

<style>

    table, #recipientTable {
        border-collapse: collapse; /* Collapse borders */
        width: 100%; /* Full-width */
        border: 1px solid #ddd; /* Add a grey border */
        font-size: 18px; /* Increase font-size */
    }

    #dailyLimitTable {
        border-collapse: collapse; /* Collapse borders */
        width: 60%; /* Full-width */
        border: 1px solid #ddd; /* Add a grey border */
        font-size: 18px; /* Increase font-size */
    }

    table, #recipientTable th, #recipientTable td {
        text-align: left; /* Left-align text */
        padding: 12px; /* Add padding */
    }

        table tr, #recipientTable tr {
            /* Add a bottom border to all table rows */
            border-bottom: 1px solid #ddd;
        }

            #recipientTable tr.header, #recipientTable tr:hover {
                /* Add a grey background color to the table header and on hover */
                background-color: #f1f1f1;
            }
</style>